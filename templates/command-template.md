# Command 模板

> 创建新 Command 时请使用此模板，确保结构一致性。

---

## 命令文件模板

```markdown
---
description: [命令简要描述，说明用途]
allowed-tools: Read, Write, Edit, Bash, Glob, Grep, TodoWrite, Task
argument-hint: [可选，参数提示]
---

# /[command-name] - [中文标题]

[一句话描述命令用途]

## 角色定位

- **身份**: [角色名称]
- **目标**: [核心目标]
- **原则**: [核心原则]

## 核心理念

> **[核心理念标题]**

### 做什么

✅ [推荐做法1]
✅ [推荐做法2]
✅ [推荐做法3]

### 不做什么

❌ [避免做法1]
❌ [避免做法2]
❌ [避免做法3]

## 工作流程

\`\`\`

1. [步骤1]
   └─ [子步骤]

2. [步骤2]
   ├─ [子步骤a]
   └─ [子步骤b]

3. [步骤3]
   └─ [子步骤]
   \`\`\`

## [领域特定章节]

[详细内容]

## 输出格式

\`\`\`markdown

## [报告/输出标题]

**[指标1]**: X
**[指标2]**: Y

### [小节1]

| 列1 | 列2 | 列3 |
| --- | --- | --- |
| ... | ... | ... |

### [小节2]

[内容]
\`\`\`

## 何时使用 /[command-name]

| 场景    | 使用           |
| ------- | -------------- |
| [场景1] | ✅             |
| [场景2] | ✅             |
| [场景3] | ❌ 用 /[other] |

---

> **[总结性提示]**

## Agent 集成

### [agent-name] - [功能描述]

**何时使用**:

- [使用场景1]
- [使用场景2]

**调用方式**:

\`\`\`
使用 Task 工具调用 [agent-name] agent:

- subagent_type: "cc-best:[agent-name]"
- prompt: "[任务描述]"
  \`\`\`

**工作流**:

\`\`\`
/[command-name] [开始动作]
↓
[判断条件]？
├─ 否 → [简单路径]
└─ 是 → [agent-name] agent
↓
返回[结果]
↓
/[command-name] [后续动作]
\`\`\`
```

---

## 模板使用说明

### Frontmatter 字段（官方支持）

| 字段          | 必填 | 说明                         |
| ------------- | ---- | ---------------------------- |
| description   | ✅   | 命令简要描述，说明用途       |
| allowed-tools | ✅   | 该命令可使用的工具列表       |
| argument-hint | ❌   | 参数提示（如 `<file-path>`） |

### Agent 委派方式

在命令正文中使用**自然语言**描述委派流程，而非 frontmatter 字段：

**示例（在 body 中）**：

```markdown
## Agent 集成

### [agent-name] - [功能描述]

**何时使用**:

- [使用场景 1]
- [使用场景 2]

**调用方式**:

使用 Task 工具调用 [agent-name] agent:

- subagent_type: "cc-best:[agent-name]"
- prompt: "[任务描述]"
```

**Command 调用（在 body 中）**：

```markdown
完成后，调用 /[command-name] 进行下一步处理
```

### 命名规范

| 类型   | 规范                     | 示例                      |
| ------ | ------------------------ | ------------------------- |
| 文件名 | kebab-case + `.md`       | `build.md`, `cc-ralph.md` |
| 标题   | `# /[name] - [中文描述]` | `# /cc-best:build - 构建项目`     |
| 章节   | 中文                     | `## 工作流程`             |

### 必填章节

1. **角色定位** - 身份、目标、原则
2. **工作流程** - 步骤图或流程描述
3. **输出格式** - Markdown 模板

### 可选章节

- **核心理念** - 做什么/不做什么
- **何时使用** - 使用场景表格
- **Agent 集成** - 关联的 agent 调用方式

### 分隔符注意

⚠️ **在 YAML frontmatter 内部不能使用 `---`**，会被解析为 frontmatter 结束标记。

在 Markdown 正文中，`---` 是合法的水平线分隔符，可以正常使用。Markdown 解析器会正确区分：

- 文件开头的 `---` 到第二个 `---` 之间是 YAML frontmatter
- 正文中的 `---` 会被渲染为水平线
