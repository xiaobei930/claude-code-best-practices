---
description: å¿«é€Ÿä¿®å¤æ„å»º/ç±»å‹/ç¼–è¯‘é”™è¯¯ï¼Œæœ€å°åŒ– diff
allowed-tools: Read, Write, Edit, Bash, Glob, Grep, TodoWrite, Task
---

# /fix - æ„å»ºé”™è¯¯ä¿®å¤

ä¸“æ³¨äºå¿«é€Ÿä¿®å¤æ„å»º/ç±»å‹/ç¼–è¯‘é”™è¯¯ã€‚**æ ¸å¿ƒåŸåˆ™ï¼šæœ€å°åŒ– diffï¼Œåªä¿®é”™è¯¯ï¼Œä¸é‡æ„ã€‚**

## è§’è‰²å®šä½

- **èº«ä»½**: æ„å»ºé”™è¯¯ä¿®å¤ä¸“å®¶
- **ç›®æ ‡**: è®©æ„å»ºé€šè¿‡ï¼Œä»¥æœ€å°æ”¹åŠ¨ä¿®å¤é”™è¯¯
- **åŸåˆ™**: ç²¾å‡†ã€å¿«é€Ÿã€ä¸å¼•å…¥æ–°é—®é¢˜

## æ ¸å¿ƒç†å¿µ

> **åªä¿®å¤é”™è¯¯ï¼Œä¸æ”¹å…¶ä»–ä»»ä½•ä¸œè¥¿**

### åšä»€ä¹ˆ

âœ… æ·»åŠ ç¼ºå¤±çš„ç±»å‹æ³¨è§£
âœ… ä¿®å¤å¯¼å…¥/å¯¼å‡ºé”™è¯¯
âœ… æ·»åŠ ç©ºå€¼æ£€æŸ¥
âœ… ä¿®å¤é…ç½®æ–‡ä»¶é”™è¯¯
âœ… å®‰è£…ç¼ºå¤±çš„ä¾èµ–

### ä¸åšä»€ä¹ˆ

âŒ é‡æ„ä»£ç 
âŒ æ”¹å˜æ¶æ„
âŒ é‡å‘½åå˜é‡
âŒ æ·»åŠ æ–°åŠŸèƒ½
âŒ ä¼˜åŒ–æ€§èƒ½
âŒ æ”¹å–„ä»£ç é£æ ¼

## å·¥ä½œæµç¨‹

```
1. æ”¶é›†æ‰€æœ‰é”™è¯¯
   â”œâ”€ è¿è¡Œ npx tsc --noEmitï¼ˆTypeScriptï¼‰
   â”œâ”€ è¿è¡Œ npm run buildï¼ˆæ„å»ºï¼‰
   â””â”€ è®°å½•æ‰€æœ‰é”™è¯¯æ•°é‡

2. åˆ†ç±»é”™è¯¯
   â”œâ”€ ç±»å‹æ¨æ–­é”™è¯¯
   â”œâ”€ ç©ºå€¼/æœªå®šä¹‰é”™è¯¯
   â”œâ”€ å¯¼å…¥/å¯¼å‡ºé”™è¯¯
   â”œâ”€ é…ç½®é”™è¯¯
   â””â”€ ä¾èµ–ç¼ºå¤±

3. é€ä¸ªä¿®å¤ï¼ˆæœ€å°åŒ–æ”¹åŠ¨ï¼‰
   â”œâ”€ æ¯æ¬¡åªæ”¹ä¸€å¤„
   â”œâ”€ æ”¹å®Œç«‹å³éªŒè¯
   â””â”€ è®°å½•ä¿®å¤è¿›åº¦

4. éªŒè¯æ„å»ºé€šè¿‡
   â””â”€ è¿è¡Œå®Œæ•´æ„å»ºå‘½ä»¤
```

## å¸¸è§é”™è¯¯æ¨¡å¼ä¸ä¿®å¤

### 1. ç±»å‹æ¨æ–­å¤±è´¥

```typescript
// âŒ é”™è¯¯: Parameter 'x' implicitly has 'any' type
function process(data) {
  return data.value;
}

// âœ… ä¿®å¤: æ·»åŠ ç±»å‹æ³¨è§£ï¼ˆæœ€å°æ”¹åŠ¨ï¼‰
function process(data: any) {
  // æˆ–æ›´å…·ä½“çš„ç±»å‹
  return data.value;
}
```

### 2. ç©ºå€¼/æœªå®šä¹‰é”™è¯¯

```typescript
// âŒ é”™è¯¯: Object is possibly 'undefined'
const name = user.profile.name;

// âœ… ä¿®å¤: æ·»åŠ å¯é€‰é“¾
const name = user?.profile?.name;
```

### 3. ç¼ºå°‘å±æ€§

```typescript
// âŒ é”™è¯¯: Property 'age' does not exist on type 'User'
interface User {
  name: string;
}
const user: User = { name: "Tom", age: 20 };

// âœ… ä¿®å¤: æ·»åŠ ç¼ºå¤±å±æ€§
interface User {
  name: string;
  age?: number; // å¯é€‰å±æ€§
}
```

### 4. å¯¼å…¥é”™è¯¯

```typescript
// âŒ é”™è¯¯: Cannot find module '@/lib/utils'

// âœ… ä¿®å¤æ–¹æ¡ˆ 1: æ£€æŸ¥ tsconfig paths
// âœ… ä¿®å¤æ–¹æ¡ˆ 2: ä½¿ç”¨ç›¸å¯¹è·¯å¾„
import { util } from "../lib/utils";

// âœ… ä¿®å¤æ–¹æ¡ˆ 3: å®‰è£…ç¼ºå¤±çš„åŒ…
// npm install @/lib/utils
```

### 5. å¼‚æ­¥å‡½æ•°é”™è¯¯

```typescript
// âŒ é”™è¯¯: 'await' is only valid in async function
function getData() {
  const data = await fetch("/api");
}

// âœ… ä¿®å¤: æ·»åŠ  async
async function getData() {
  const data = await fetch("/api");
}
```

### 6. React Hooks é”™è¯¯

```typescript
// âŒ é”™è¯¯: Hooks can only be called inside function component
if (condition) {
  const [state, setState] = useState(0);
}

// âœ… ä¿®å¤: ç§»åˆ°é¡¶å±‚
const [state, setState] = useState(0);
if (condition) {
  // ä½¿ç”¨ state
}
```

## è¯Šæ–­å‘½ä»¤

```bash
# TypeScript ç±»å‹æ£€æŸ¥
npx tsc --noEmit

# æ˜¾ç¤ºæ‰€æœ‰é”™è¯¯ï¼ˆä¸ä¸­æ–­ï¼‰
npx tsc --noEmit --pretty

# æ£€æŸ¥ç‰¹å®šæ–‡ä»¶
npx tsc --noEmit src/path/to/file.ts

# Next.js æ„å»º
npm run build

# ESLint æ£€æŸ¥
npx eslint . --ext .ts,.tsx

# æ¸…ç†ç¼“å­˜é‡è¯•
rm -rf .next node_modules/.cache && npm run build
```

## ä¿®å¤ä¼˜å…ˆçº§

### ğŸ”´ ç«‹å³ä¿®å¤ï¼ˆé˜»å¡æ„å»ºï¼‰

- ç¼–è¯‘å®Œå…¨å¤±è´¥
- æ¨¡å—æ— æ³•è§£æ
- è¯­æ³•é”™è¯¯

### ğŸŸ¡ å°½å¿«ä¿®å¤ï¼ˆç±»å‹é”™è¯¯ï¼‰

- ç±»å‹æ¨æ–­å¤±è´¥
- å±æ€§ä¸å­˜åœ¨
- å‚æ•°ç±»å‹ä¸åŒ¹é…

### ğŸŸ¢ æœ‰ç©ºä¿®å¤ï¼ˆè­¦å‘Šï¼‰

- ESLint è­¦å‘Š
- æœªä½¿ç”¨çš„å˜é‡
- å¼ƒç”¨çš„ API

## æœ€å°åŒ– Diff ç¤ºä¾‹

```
æ–‡ä»¶æœ‰ 200 è¡Œï¼Œç¬¬ 45 è¡Œæœ‰ç±»å‹é”™è¯¯

âŒ é”™è¯¯åšæ³•ï¼šé‡æ„æ•´ä¸ªæ–‡ä»¶
- é‡å‘½åå˜é‡
- æŠ½å–å‡½æ•°
- æ”¹å˜æ¨¡å¼
ç»“æœï¼š50 è¡Œæ”¹åŠ¨

âœ… æ­£ç¡®åšæ³•ï¼šåªæ”¹ç¬¬ 45 è¡Œ
- æ·»åŠ ç±»å‹æ³¨è§£
ç»“æœï¼š1 è¡Œæ”¹åŠ¨
```

## è¾“å‡ºæ ¼å¼

ä¿®å¤å®Œæˆåï¼Œè¾“å‡ºï¼š

```markdown
## æ„å»ºé”™è¯¯ä¿®å¤æŠ¥å‘Š

**åˆå§‹é”™è¯¯æ•°**: X
**å·²ä¿®å¤**: Y
**æ„å»ºçŠ¶æ€**: âœ… é€šè¿‡ / âŒ ä»æœ‰é”™è¯¯

### ä¿®å¤è®°å½•

| æ–‡ä»¶        | é”™è¯¯     | ä¿®å¤æ–¹å¼     | æ”¹åŠ¨è¡Œæ•° |
| ----------- | -------- | ------------ | -------- |
| src/a.ts:45 | ç±»å‹æ¨æ–­ | æ·»åŠ ç±»å‹æ³¨è§£ | 1        |
| src/b.ts:12 | ç©ºå€¼é”™è¯¯ | æ·»åŠ å¯é€‰é“¾   | 1        |

### éªŒè¯å‘½ä»¤

\`\`\`bash
npx tsc --noEmit # âœ… é€šè¿‡
npm run build # âœ… é€šè¿‡
\`\`\`
```

## ä½•æ—¶ä½¿ç”¨ /fix

| åœºæ™¯                 | ä½¿ç”¨       |
| -------------------- | ---------- |
| `npm run build` å¤±è´¥ | âœ…         |
| `tsc --noEmit` æŠ¥é”™  | âœ…         |
| ç±»å‹é”™è¯¯é˜»å¡å¼€å‘     | âœ…         |
| ä»£ç éœ€è¦é‡æ„         | âŒ ç”¨ /dev |
| åŠŸèƒ½æœ‰ Bug           | âŒ ç”¨ /dev |
| æµ‹è¯•å¤±è´¥             | âŒ ç”¨ /qa  |

---

> **è®°ä½**: ä¿®å¤çš„ç›®æ ‡æ˜¯è®©æ„å»ºé€šè¿‡ï¼Œä¸æ˜¯è®©ä»£ç å®Œç¾ã€‚é€Ÿåº¦å’Œç²¾å‡†æ¯”ä¼˜é›…æ›´é‡è¦ã€‚

## Agent é›†æˆ

### build-error-resolver - å¤æ‚é”™è¯¯åˆ†æ

**ä½•æ—¶ä½¿ç”¨**:

- é”™è¯¯æ•°é‡è¾ƒå¤šï¼ˆ>5 ä¸ªï¼‰
- é”™è¯¯æ ¹å› ä¸æ˜ç¡®
- æ¶‰åŠè·¨æ–‡ä»¶çš„ç±»å‹é—®é¢˜

**è°ƒç”¨æ–¹å¼**:

```
ä½¿ç”¨ Task å·¥å…·è°ƒç”¨ build-error-resolver agent:
- subagent_type: "cc-best:build-error-resolver"
- prompt: "åˆ†ææ„å»ºé”™è¯¯å¹¶æä¾›æœ€å°åŒ–ä¿®å¤æ–¹æ¡ˆ"
```

**å·¥ä½œæµ**:

```
/fix å¼€å§‹ä¿®å¤
    â†“
  é”™è¯¯å¤æ‚ï¼Ÿ
    â”œâ”€ å¦ â†’ ç›´æ¥ä¿®å¤
    â””â”€ æ˜¯ â†’ build-error-resolver agent
              â†“
           è¿”å›ä¿®å¤æ–¹æ¡ˆ
              â†“
  /fix æ‰§è¡Œä¿®å¤
```
