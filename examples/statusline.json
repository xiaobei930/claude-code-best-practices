{
  "$schema": "https://json-schemastore.org/claude-code-settings.json",
  "_description": {
    "zh": "自定义状态行配置示例 - 显示用户、路径、Git分支、上下文百分比、模型、时间、Todo数量",
    "en": "Custom status line example - Shows user, path, git branch, context %, model, time, todo count"
  },
  "_usage": {
    "zh": "将 statusLine 对象复制到 ~/.claude/settings.json 中使用",
    "en": "Copy the statusLine object to ~/.claude/settings.json to use"
  },
  "_output_example": "koala:~/projects/myapp main* ctx:73% opus 14:30 todos:3",
  "_colors": {
    "B": "Blue 蓝色 - directory path 目录路径",
    "G": "Green 绿色 - git branch 分支名",
    "Y": "Yellow 黄色 - dirty status 未提交标记, time 时间",
    "M": "Magenta 品红 - context remaining 上下文剩余",
    "C": "Cyan 青色 - username 用户名, todos 待办数",
    "T": "Gray 灰色 - model name 模型名"
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); user=$(whoami); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir' | sed \"s|$HOME|~|g\"); model=$(echo \"$input\" | jq -r '.model.display_name'); time=$(date +%H:%M); remaining=$(echo \"$input\" | jq -r '.context_window.remaining_percentage // empty'); transcript=$(echo \"$input\" | jq -r '.transcript_path'); todo_count=$([ -f \"$transcript\" ] && grep -c '\"type\":\"todo\"' \"$transcript\" 2>/dev/null || echo 0); cd \"$(echo \"$input\" | jq -r '.workspace.current_dir')\" 2>/dev/null; branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null || echo ''); status=''; [ -n \"$branch\" ] && { [ -n \"$(git status --porcelain 2>/dev/null)\" ] && status='*'; }; B='\\033[38;2;30;102;245m'; G='\\033[38;2;64;160;43m'; Y='\\033[38;2;223;142;29m'; M='\\033[38;2;136;57;239m'; C='\\033[38;2;23;146;153m'; R='\\033[0m'; T='\\033[38;2;76;79;105m'; printf \"${C}${user}${R}:${B}${cwd}${R}\"; [ -n \"$branch\" ] && printf \" ${G}${branch}${Y}${status}${R}\"; [ -n \"$remaining\" ] && printf \" ${M}ctx:${remaining}%%${R}\"; printf \" ${T}${model}${R} ${Y}${time}${R}\"; [ \"$todo_count\" -gt 0 ] && printf \" ${C}todos:${todo_count}${R}\"; echo",
    "description": "Custom status line 自定义状态行"
  },
  "_note": {
    "zh": "此命令依赖 jq 工具。Windows 用户需要在 Git Bash 或 WSL 中使用。",
    "en": "This command requires jq. Windows users need Git Bash or WSL."
  }
}
