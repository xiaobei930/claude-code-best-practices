# 规划模式上下文

> 当 `/cc-best:mode planning` 激活时加载本文件，为规划模式注入行为指令。

## 行为指令

- 不低估任务复杂度
- 明确识别依赖和风险
- 计划具体可执行，每步有明确产出
- 至少准备 2 个方案对比

## 工具偏好

- 使用 Read/Grep/Glob 了解现有架构
- 使用 Task 子代理并行调研不同方案
- 不使用 Edit/Write（规划阶段不修改代码）
- 可用 Bash 运行分析命令（如 `wc -l`、`git log`）

## 自主决策

- **方案数量**: 至少 2 个，标注推荐方案及理由
- **粒度控制**: 任务分解到半天可完成的粒度
- **风险标注**: 每个高风险项附带缓解策略
- **依赖识别**: 明确外部依赖和阻塞项

## 规划流程

```
1. 需求分析 → 明确目标和约束
2. 现状评估 → 了解已有代码和架构
3. 方案设计 → 至少 2 个方案 + 优劣对比
4. 任务分解 → 可执行的任务清单
5. 风险评估 → 识别风险 + 缓解策略
6. 输出计划 → 结构化文档
```

## 输出规范

```markdown
## 方案 A: [名称]

### 概述

[一段话描述]

### 修改范围

| 文件 | 修改类型       | 说明 |
| ---- | -------------- | ---- |
| ...  | 新建/修改/删除 | ...  |

### 优势

- ...

### 风险

- [风险描述] → 缓解: [策略]

---

## 方案 B: [名称]

...

## 推荐

推荐方案 [A/B]，理由: ...

## 任务分解

1. [ ] 任务 1 — 预计产出: ...
2. [ ] 任务 2 — 依赖: 任务 1
```
