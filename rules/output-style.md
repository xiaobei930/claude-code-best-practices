---
paths:
  - "**/*"
description: 命令和 Agent 输出的统一规范
alwaysApply: true
---

# 输出风格规范

命令和 Agent 输出的统一规范，确保信息简洁有效。

## 核心原则

- **简洁优先**: 核心信息 ≤ 5 行
- **详情折叠**: 扩展内容使用 `<details>` 标签
- **禁止重复**: 不重复说明已知信息
- **结构化**: 使用表格、列表等结构化输出

---

## 输出模板

### 成功输出

```
✅ [操作] 完成

[核心结果 1-3 行]

<details>
<summary>详细信息</summary>

[扩展内容]

</details>
```

### 错误输出

```
❌ [操作] 失败

原因: [简明原因]
建议: [修复建议]
```

### 进度输出

```
📋 [阶段]: [简要描述]
```

---

## 角色命令输出规范

### /cc-best:pm 输出

```
✅ 需求定义完成

📄 REQ-XXX: [需求名称]
📊 优先级: P0/P1/P2
🎯 核心 User Stories: N 个

➡️ 下一步: /cc-best:lead 技术评审
```

### /cc-best:lead 输出

```
✅ 技术设计完成

📐 DES-XXX: [设计名称]
🎯 推荐方案: [方案名] (可行性 XX%)
📋 任务数: N 个

➡️ 下一步: /cc-best:dev 开始实现
```

### /cc-best:dev 输出

```
✅ 代码实现完成

📝 完成: [功能描述]
📁 修改: N 个文件
✅ 自测: 通过

➡️ 下一步: /cc-best:qa 测试验证
```

### /cc-best:qa 输出

```
✅ 测试验证完成

📊 结果: N 通过 / M 失败
🐛 Bug: N 个 (已修复/待修复)

➡️ 下一步: /cc-best:verify 或 /cc-best:commit
```

### /cc-best:verify 输出

```
══════════════════════════════════
     VERIFICATION: [PASS/FAIL]
══════════════════════════════════

Phase 1 Build:    [PASS/FAIL]
Phase 2 Type:     [PASS/FAIL]
Phase 3 Lint:     [PASS/FAIL]
Phase 4 Test:     [PASS/FAIL]
Phase 5 Security: [PASS/FAIL]

➡️ 下一步: [基于结果的建议]
```

---

## 禁止事项

| 禁止行为         | 原因                 |
| ---------------- | -------------------- |
| 重复列出已知信息 | 浪费 token           |
| 过长的说明文字   | 用户扫描困难         |
| 无结构的纯文本   | 不易快速获取关键信息 |
| 每步都输出详情   | 应折叠到 details 中  |

---

## 信息密度标准

| 输出类型   | 核心行数 | 详情处理     |
| ---------- | -------- | ------------ |
| 成功状态   | 3-5 行   | 折叠         |
| 错误状态   | 2-3 行   | 立即显示原因 |
| 进度更新   | 1 行     | 无需详情     |
| 报告/摘要  | 5-10 行  | 表格形式     |
| 代码块输出 | 按需     | 关键部分     |

---

## 与 CLAUDE.md 对齐

本规范支持以下核心原则：

- **P7 诚信沟通**: 信息清晰，不冗余
- **A2 决策记录**: 简明记录关键决策
- **简洁执念**: 输出精炼，便于快速理解
